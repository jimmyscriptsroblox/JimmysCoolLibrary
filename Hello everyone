local JimmysCoolLibrary = {}

local theme = {
    Button = Color3.fromRGB(255, 0, 0),
    ButtonText = Color3.fromRGB(255, 255, 255),
    ToggleButton = Color3.fromRGB(100, 100, 100),
    ToggleOn = Color3.fromRGB(0, 255, 0),
    ToggleOff = Color3.fromRGB(255, 0, 0),
    Element = Color3.fromRGB(50, 50, 50),
    ElementText = Color3.fromRGB(255, 255, 255),
    ScrollFrame = Color3.fromRGB(200, 200, 200)
}

function JimmysCoolLibrary:MakeWindow(options)
    local window = Instance.new("ScreenGui")
    window.Name = options.Name
    window.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

    -- Function to create a tab
    function window:MakeTab(tabOptions)
        local tab = Instance.new("Frame", window)
        tab.Size = UDim2.new(1, 0, 1, 0)
        tab.BackgroundColor3 = theme.Element

        function tab:AddSection(sectionOptions)
            local section = Instance.new("Frame", tab)
            section.Size = UDim2.new(1, 0, 0, 100)
            section.BackgroundColor3 = theme.Element
            return section
        end

        function tab:AddButton(options)
            local button = Instance.new("TextButton", tab)
            button.Text = options.Name
            button.Size = UDim2.new(1, 0, 0, 40)
            button.BackgroundColor3 = theme.Button
            button.TextColor3 = theme.ButtonText
            button.BorderSizePixel = 0
            button.TextXAlignment = Enum.TextXAlignment.Left
            button.MouseButton1Click:Connect(options.Callback)
        end

        function tab:AddToggle(options)
            local toggle = Instance.new("TextButton", tab)
            toggle.Text = options.Name
            toggle.Size = UDim2.new(1, 0, 0, 40)
            toggle.BackgroundColor3 = theme.ToggleButton
            toggle.TextColor3 = theme.ButtonText
            toggle.BorderSizePixel = 0
            toggle.TextXAlignment = Enum.TextXAlignment.Left

            local isOn = options.Default
            toggle.BackgroundColor3 = isOn and theme.ToggleOn or theme.ToggleOff
            toggle.MouseButton1Click:Connect(function()
                isOn = not isOn
                toggle.BackgroundColor3 = isOn and theme.ToggleOn or theme.ToggleOff
                options.Callback(isOn)
            end)
        end

        function tab:AddColorpicker(options)
            local colorButton = Instance.new("TextButton", tab)
            colorButton.Text = options.Name
            colorButton.Size = UDim2.new(1, 0, 0, 40)
            colorButton.BackgroundColor3 = options.Default
            colorButton.TextColor3 = theme.ButtonText
            colorButton.BorderSizePixel = 0
            colorButton.TextXAlignment = Enum.TextXAlignment.Left

            colorButton.MouseButton1Click:Connect(function()
                local color = options.Default
                colorButton.BackgroundColor3 = color
                options.Callback(color)
            end)
        end

        function tab:AddSlider(options)
            local sliderFrame = Instance.new("Frame", tab)
            sliderFrame.Size = UDim2.new(1, 0, 0, 60)
            sliderFrame.BackgroundColor3 = theme.Element
            sliderFrame.BorderSizePixel = 0

            local sliderLabel = Instance.new("TextLabel", sliderFrame)
            sliderLabel.Size = UDim2.new(1, 0, 0, 20)
            sliderLabel.Text = options.Name .. ": " .. options.Default .. options.ValueName
            sliderLabel.BackgroundColor3 = theme.Element
            sliderLabel.TextColor3 = theme.ElementText
            sliderLabel.BorderSizePixel = 0

            local sliderBar = Instance.new("Frame", sliderFrame)
            sliderBar.Size = UDim2.new(1, 0, 0, 10)
            sliderBar.Position = UDim2.new(0, 0, 0, 25)
            sliderBar.BackgroundColor3 = theme.Button

            local sliderIndicator = Instance.new("Frame", sliderBar)
            sliderIndicator.Size = UDim2.new((options.Default - options.Min) / (options.Max - options.Min), 0, 1, 0)
            sliderIndicator.BackgroundColor3 = theme.ButtonText

            local sliderInput = Instance.new("TextButton", sliderBar)
            sliderInput.Size = UDim2.new(1, 0, 1, 0)
            sliderInput.BackgroundTransparency = 1
            sliderInput.Text = ""
            sliderInput.MouseButton1Click:Connect(function()
                local value = options.Default
                sliderLabel.Text = options.Name .. ": " .. value .. options.ValueName
                options.Callback(value)
            end)
        end

        function tab:AddLabel(text)
            local label = Instance.new("TextLabel", tab)
            label.Text = text
            label.Size = UDim2.new(1, 0, 0, 40)
            label.BackgroundColor3 = theme.Element
            label.TextColor3 = theme.ElementText
            label.BorderSizePixel = 0
            label.TextXAlignment = Enum.TextXAlignment.Left
        end

        function tab:AddParagraph(title, content)
            local paragraphFrame = Instance.new("Frame", tab)
            paragraphFrame.Size = UDim2.new(1, 0, 0, 80)
            paragraphFrame.BackgroundColor3 = theme.Element
            paragraphFrame.BorderSizePixel = 0

            local titleLabel = Instance.new("TextLabel", paragraphFrame)
            titleLabel.Size = UDim2.new(1, 0, 0, 20)
            titleLabel.Text = title
            titleLabel.BackgroundColor3 = theme.Element
            titleLabel.TextColor3 = theme.ElementText
            titleLabel.BorderSizePixel = 0

            local contentLabel = Instance.new("TextLabel", paragraphFrame)
            contentLabel.Size = UDim2.new(1, 0, 1, -20)
            contentLabel.Position = UDim2.new(0, 0, 0, 20)
            contentLabel.Text = content
            contentLabel.BackgroundColor3 = theme.Element
            contentLabel.TextColor3 = theme.ElementText
            contentLabel.BorderSizePixel = 0
            contentLabel.TextWrapped = true
        end

        function tab:AddInput(options)
            local inputBox = Instance.new("TextBox", tab)
            inputBox.Text = options.Default
            inputBox.Size = UDim2.new(1, 0, 0, 40)
            inputBox.BackgroundColor3 = theme.Element
            inputBox.TextColor3 = theme.ElementText
            inputBox.BorderSizePixel = 0
            inputBox.TextXAlignment = Enum.TextXAlignment.Left

            if options.TextDisappear then
                inputBox.ClearTextOnFocus = true
            end

            inputBox.FocusLost:Connect(function(enterPressed)
                if enterPressed then
                    options.Callback(inputBox.Text)
                end
            end)
        end

        function tab:AddBind(options)
            local bindLabel = Instance.new("TextLabel", tab)
            bindLabel.Text = options.Name .. ": " .. options.Default.Name
            bindLabel.Size = UDim2.new(1, 0, 0, 40)
            bindLabel.BackgroundColor3 = theme.Element
            bindLabel.TextColor3 = theme.ElementText
            bindLabel.BorderSizePixel = 0
            bindLabel.TextXAlignment = Enum.TextXAlignment.Left

            local userInputService = game:GetService("UserInputService")

            userInputService.InputBegan:Connect(function(input, gameProcessed)
                if gameProcessed then return end
                if options.Hold then
                    if input.KeyCode == options.Default then
                        options.Callback()
                    end
                else
                    if input.KeyCode == options.Default then
                        options.Callback()
                    end
                end
            end)
        end

        function tab:AddList(options)
            local dropdownFrame = Instance.new("Frame", tab)
            dropdownFrame.Size = UDim2.new(1, 0, 0, 40)
            dropdownFrame.BackgroundColor3 = theme.Element
            dropdownFrame.BorderSizePixel = 0

            local dropdownLabel = Instance.new("TextLabel", dropdownFrame)
            dropdownLabel.Size = UDim2.new(1, 0, 0, 20)
            dropdownLabel.Text = options.Name .. ": " .. options.Default
            dropdownLabel.BackgroundColor3 = theme.Element
            dropdownLabel.TextColor3 = theme.ElementText
            dropdownLabel.BorderSizePixel = 0

            local dropdownButton = Instance.new("TextButton", dropdownFrame)
            dropdownButton.Size = UDim2.new(1, 0, 1, -20)
            dropdownButton.Position = UDim2.new(0, 0, 0, 20)
            dropdownButton.BackgroundColor3 = theme.Button
            dropdownButton.TextColor3 = theme.ButtonText
            dropdownButton.BorderSizePixel = 0
            dropdownButton.Text = "Select Option"

            local dropdownList = Instance.new("Frame", dropdownButton)
            dropdownList.Size = UDim2.new(1, 0, 1, 0)
            dropdownList.Position = UDim2.new(0, 0, 0, 20)
            dropdownList.BackgroundColor3 = theme.ScrollFrame
            dropdownList.Visible = false

            for _, option in ipairs(options.List) do
                local optionButton = Instance.new("TextButton", dropdownList)
                optionButton.Text = option
                optionButton.Size = UDim2.new(1, 0, 0, 30)
                optionButton.BackgroundColor3 = theme.Button
                optionButton.TextColor3 = theme.ButtonText
                optionButton.BorderSizePixel = 0

                optionButton.MouseButton1Click:Connect(function()
                    dropdownLabel.Text = options.Name .. ": " .. option
                    options.Callback(option)
                    dropdownList.Visible = false
                end)
            end

            dropdownButton.MouseButton1Click:Connect(function()
                dropdownList.Visible = not dropdownList.Visible
            end)
        end

        function tab:AddImage(options)
            local image = Instance.new("ImageLabel", tab)
            image.Image = options.Image
            image.Size = UDim2.new(1, 0, 1, 0)
            image.BackgroundTransparency = 1
            image.BorderSizePixel = 0
        end

        function tab:AddPlayerIcon(options)
            local playerIcon = Instance.new("ImageLabel", tab)
            playerIcon.Size = UDim2.new(1, 0, 1, 0)
            playerIcon.BackgroundTransparency = 1
            playerIcon.BorderSizePixel = 0

            local player = game.Players:FindFirstChild(options.PlayerName)
            if player and player.Character and player.Character:FindFirstChild("Head") then
                local head = player.Character.Head
                local textureId = head:FindFirstChild("Face") and head.Face.TextureId or ""
                playerIcon.Image = textureId
            end
        end

        function tab:AddNotification(options)
            local notificationFrame = Instance.new("Frame", tab)
            notificationFrame.Size = UDim2.new(1, 0, 0, 60)
            notificationFrame.BackgroundColor3 = theme.Element
            notificationFrame.BorderSizePixel = 0

            local notificationLabel = Instance.new("TextLabel", notificationFrame)
            notificationLabel.Size = UDim2.new(1, 0, 1, 0)
            notificationLabel.Text = options.Message
            notificationLabel.BackgroundColor3 = theme.Element
            notificationLabel.TextColor3 = theme.ElementText
            notificationLabel.BorderSizePixel = 0
            notificationLabel.TextWrapped = true

            task.wait(options.Duration)
            notificationFrame:Destroy()
        end

        return tab
    end

    return window
end

return JimmysCoolLibrary
